{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["var _ = require('lodash');\r\n\r\nvar specs = require('../specifications');\r\n\r\nfunction identifierIsValid (identifier) {\r\n\treturn (_.isString(identifier) && identifier.length > 0);\r\n}\r\n\r\n/*---------------------*/\r\n/*---------------------*/\r\n/*---------------------*/\r\n\r\nfunction featureDescriptionSetterGenerator (bdd, featureName) {\r\n\treturn function featureDescriptionSetter () {\r\n\t};\r\n};\r\n\r\nfunction featureDescriberGenerator (bdd) {\r\n\tvar featureDescriber = function featureDescriber(featureName) {\r\n\r\n\t\tsetFeatureNamed.call(bdd, featureName, function () {\r\n\t\t});\r\n\r\n\t\treturn featureDescriptionSetterGenerator(bdd, featureName);\r\n\t};\r\n\r\n\treturn featureDescriber;\r\n}\r\n\r\n/*---------------------*/\r\n/*---------------------*/\r\n/*---------------------*/\r\n\r\nvar indexedFeatures = Symbol();\r\n\r\nclass VibratoBDD {\r\n  constructor({\r\n  \tidentifier = null\r\n  }={}) {\r\n\r\n  \tthis.identifier = identifierIsValid(identifier) ? identifier : null;\r\n\r\n  \tinitFeatureList.call(this);\r\n\r\n  \tthis.describe = {\r\n  \t\tfeature : featureDescriberGenerator(this)\r\n  \t};\r\n  }\r\n\r\n  runTestSuite(requireTestSuiteFunction, tagList = \"\"){\r\n  \tinitFeatureList.call(this);\r\n\r\n  \tif (_.isFunction(requireTestSuiteFunction)) {\r\n  \t\trequireTestSuiteFunction();\r\n  \t}\r\n  \telse{\r\n  \t\tthrow new Error(specs.errorMessage.usingRunTestSuiteWithoutFunctionAsParameter);\r\n  \t}\r\n\r\n  \tif (this.features.all.length <= 0) {\r\n  \t\tthrow new Error(specs.errorMessage.usingRunTestSuiteWithNoFeatureDescription);\r\n  \t}\r\n\r\n  \tstart.call(this);\r\n  }\r\n}\r\n\r\nVibratoBDD.publicAPI = function () {\r\n\treturn Object.getOwnPropertyNames(VibratoBDD.prototype);\r\n};\r\n\r\nfunction initFeatureList() {\r\n\tthis[indexedFeatures] = {};\r\n\r\n  \tthis.features = {\r\n  \t\tall : [],\r\n  \t\tstarted : [],\r\n  \t\trunning : [],\r\n  \t\tpassed : [],\r\n  \t\tfailed : []\r\n  \t};\r\n}\r\n\r\nfunction start() {\r\n\t_.forEach(this[indexedFeatures], (feature)=>{\r\n\t\tfeature.block();\r\n  \t\tthis.features.started.push(feature);\r\n  \t});\r\n}\r\n\r\nfunction getFeatureNamed(featureName){\r\n\treturn this[indexedFeatures][featureName];\r\n}\r\n\r\nfunction setFeatureNamed(name, block){\r\n\tthis.features.all.push(this[indexedFeatures][name] = {\r\n\t\tname,\r\n\t\tdescription : null,\r\n\t\tbackground : {},\r\n\t\tscenarioList : [],\r\n\t\tblock\r\n\t});\r\n}\r\n\r\n/*---------------------*/\r\n/*---------------------*/\r\n/*---------------------*/\r\n\r\nvar VibratoBDDPool = {};\r\n\r\nfunction VibratoBDDFactory(identifier){\r\n\tif (!identifierIsValid(identifier)) {\r\n\t\tthrow new Error(specs.errorMessage.usingTheFactoryWithoutValidIdentifier);\r\n\t}\r\n\r\n\treturn (VibratoBDDPool[identifier] || (VibratoBDDPool[identifier] = new VibratoBDD({identifier})));\r\n}\r\n\r\nVibratoBDDFactory.class = VibratoBDD;\r\n\r\nexport default VibratoBDDFactory;"],"sourceRoot":"/source/"}