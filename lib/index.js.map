{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["var _ = require('lodash');\r\n\r\nvar specifications = require('../specifications');\r\nvar messages = specifications.messages;\r\n\r\n/*---------------------*/\r\n/*---------------------*/\r\n/*---------------------*/\r\n\r\nvar indexedFeatures = Symbol();\r\n\r\nclass VibratoBDD {\r\n\tconstructor({\r\n\t\tidentifier = null\r\n\t}={}) {\r\n\r\n\t\tthis.identifier = identifierIsValid(identifier) ? identifier : null;\r\n\r\n\t\tinitFeatureList.call(this);\r\n\r\n\t\tthis.describe = {\r\n\t\t\tfeature : featureDescriberGenerator(this)\r\n\t\t};\r\n\t}\r\n\r\n\trunTestSuite(requireTestSuiteFunction, tagList = \"\"){\r\n\t\tinitFeatureList.call(this);\r\n\r\n\t\tif (_.isFunction(requireTestSuiteFunction)) {\r\n\t\t\trequireTestSuiteFunction();\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthrow new Error(specs.errorMessage.usingRunTestSuiteWithoutFunctionAsParameter);\r\n\t\t}\r\n\r\n\t\tif (this.features.all.length <= 0) {\r\n\t\t\tthrow new Error(specs.errorMessage.usingRunTestSuiteWithNoFeatureDescription);\r\n\t\t}\r\n\r\n\t\tstart.call(this);\r\n\t}\r\n}\r\n\r\nfunction initFeatureList() {\r\n\tthis[indexedFeatures] = {};\r\n\r\n\tthis.features = {\r\n\t\tall : [],\r\n\t\tstarted : [],\r\n\t\trunning : [],\r\n\t\tpassed : [],\r\n\t\tfailed : []\r\n\t};\r\n}\r\n\r\nfunction start() {\r\n\t_.forEach(this[indexedFeatures], (feature)=>{\r\n\t\tfeature.block();\r\n\t\tthis.features.started.push(feature);\r\n\t});\r\n}\r\n\r\nfunction setFeatureNamed(name, block){\r\n\tthis.features.all.push(this[indexedFeatures][_.camelCase(name)] = {\r\n\t\tname,\r\n\t\tdescription : \"\",\r\n\t\tbackground : [],\r\n\t\tscenarioList : [],\r\n\t\tblock\r\n\t});\r\n}\r\n\r\n/*---------------------*/\r\n/*---------------------*/\r\n/*---------------------*/\r\n\r\nfunction identifierIsValid (identifier) {\r\n\treturn (_.isString(identifier) && _.trim(identifier).length > 0);\r\n}\r\n\r\n/*---------------------*/\r\n/*---------------------*/\r\n/*---------------------*/\r\n\r\nfunction featureDescriptionSetterGenerator (bdd, featureName) {\r\n\treturn function featureDescriptionSetter () {\r\n\t};\r\n};\r\n\r\nfunction featureDescriberGenerator (bdd) {\r\n\tvar featureDescriber = function featureDescriber(featureName) {\r\n\t\tsetFeatureNamed.call(bdd, featureName, function () {\r\n\t\t});\r\n\r\n\t\treturn featureDescriptionSetterGenerator(bdd, featureName);\r\n\t};\r\n\r\n\treturn featureDescriber;\r\n}\r\n\r\n/*---------------------*/\r\n/*---------------------*/\r\n/*---------------------*/\r\n\r\nvar VibratoBDDPool = {};\r\n\r\nfunction VibratoBDDFactory(identifier){\r\n\tif (!identifierIsValid(identifier)) {\r\n\t\tthrow new Error(messages.factory.error.usingTheFactoryWithAnUnvalidIdentifier(identifier));\r\n\t}\r\n\r\n\treturn (VibratoBDDPool[identifier] || (VibratoBDDPool[identifier] = new VibratoBDD({identifier})));\r\n}\r\n\r\nVibratoBDDFactory.class = VibratoBDD;\r\n\r\nexport default VibratoBDDFactory;"],"sourceRoot":"/source/"}