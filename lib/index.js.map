{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["var _ = require('lodash');\r\n\r\nvar specifications = require('../specifications');\r\nvar messages = specifications.messages;\r\n\r\n/*---------------------*/\r\n/*---------------------*/\r\n/*---------------------*/\r\n\r\n//private properties\r\nvar indexedFeatures = Symbol(),\r\n\tindexedDescriptions = Symbol();\r\n\r\n//private instance method\r\nvar\tinitTestList = Symbol(),\r\n\tinitDescriptionList = Symbol(),\r\n\tinitFeatureList = Symbol(),\r\n\r\n\tinitDescribe = Symbol(),\r\n\r\n\tcreateFeatureDescriber = Symbol(),\r\n\tcreateFeatureDescriptionSetter = Symbol(),\r\n\tsetFeatureNamed = Symbol(),\r\n\r\n\tstart = Symbol();\r\n\r\n//private class method\r\nvar createEmptyStateObject = Symbol(),\r\n\tidentifierIsValid = Symbol(),\r\n\tformatIdentifier = Symbol();\r\n\r\nclass VibratoBDD {\r\n\tconstructor({\r\n\t\tidentifier = null\r\n\t}={}) {\r\n\r\n\t\tthis.identifier = VibratoBDD[identifierIsValid](identifier) ? identifier : null;\r\n\r\n\t\tthis[initTestList]();\r\n\r\n\t\tthis[initDescribe]();\r\n\t}\r\n\r\n\t/*Public API*/\r\n\r\n\trunTestSuite(requireTestSuiteFunction, tagList = \"\"){\r\n\t\tinitFeatureList.call(this);\r\n\r\n\t\tif (_.isFunction(requireTestSuiteFunction)) {\r\n\t\t\trequireTestSuiteFunction();\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthrow new Error(specs.errorMessage.usingRunTestSuiteWithoutFunctionAsParameter);\r\n\t\t}\r\n\r\n\t\tif (this.features.all.length <= 0) {\r\n\t\t\tthrow new Error(specs.errorMessage.usingRunTestSuiteWithNoFeatureDescription);\r\n\t\t}\r\n\r\n\t\tstart.call(this);\r\n\t}\r\n\r\n\t/*Private API*/\r\n\r\n\t//Init\r\n\t[initDescribe](){\r\n\t\tthis.describe = function (topicName) {\r\n\t\t};\r\n\t\tthis.describe.feature = this[createFeatureDescriber]();\r\n\t}\r\n\r\n\t[initTestList](){\r\n\t\tthis.testSuite = VibratoBDD[createEmptyStateObject]();\r\n\r\n\t\tthis[initDescriptionList]();\r\n\t\tthis[initFeatureList]();\r\n\t}\r\n\r\n\t[initDescriptionList]() {\r\n\t\tthis[indexedDescriptions] = {};\r\n\r\n\t\tthis.descriptions = VibratoBDD[createEmptyStateObject]();\r\n\t}\r\n\r\n\t[initFeatureList]() {\r\n\t\tthis[indexedFeatures] = {};\r\n\r\n\t\tthis.features = VibratoBDD[createEmptyStateObject]();\r\n\t}\r\n\r\n\t//Run test suite\r\n\t[start]() {\r\n\t\t_.forEach(this[indexedFeatures], (feature)=>{\r\n\t\t\tfeature.block();\r\n\t\t\tthis.features.started.push(feature);\r\n\t\t});\r\n\t}\r\n\r\n\t//feature\r\n\t[createFeatureDescriber]() {\r\n\t\tvar featureDescriber = (featureName) => {\r\n\t\t\tthis[setFeatureNamed](featureName, function () {\r\n\t\t\t});\r\n\r\n\t\t\treturn this[createFeatureDescriptionSetter](featureName);\r\n\t\t};\r\n\r\n\t\treturn featureDescriber;\r\n\t}\r\n\r\n\t[createFeatureDescriptionSetter] (bdd, featureName) {\r\n\t\treturn () => {\r\n\t\t};\r\n\t};\r\n\r\n\t[setFeatureNamed](name, block){\r\n\t\tthis.features.all.push(this[indexedFeatures][VibratoBDD[formatIdentifier](name)] = {\r\n\t\t\tname,\r\n\t\t\tdescription : \"\",\r\n\t\t\tbackground : [],\r\n\t\t\tscenarioList : [],\r\n\t\t\tblock\r\n\t\t});\r\n\t}\r\n}\r\n\r\n/*---------------------*/\r\n/*---------------------*/\r\n/*---------------------*/\r\n\r\nVibratoBDD[createEmptyStateObject] = function() {\r\n\treturn {\r\n\t\tall : [],\r\n\t\tstarted : [],\r\n\t\trunning : [],\r\n\t\tpassed : [],\r\n\t\tfailed : []\r\n\t};\r\n};\r\n\r\nVibratoBDD[identifierIsValid] = function (identifier) {\r\n\treturn (_.isString(identifier) && _.trim(identifier).length > 0);\r\n};\r\n\r\nVibratoBDD[formatIdentifier] = function (inputValue) {\r\n\treturn _.camelCase(inputValue);\r\n};\r\n\r\n/*---------------------*/\r\n/*---------------------*/\r\n/*---------------------*/\r\n\r\nvar VibratoBDDPool = {};\r\n\r\nfunction VibratoBDDFactory(identifier){\r\n\tif (!VibratoBDD[identifierIsValid](identifier)) {\r\n\t\tthrow new Error(messages.factory.error.usingTheFactoryWithAnUnvalidIdentifier(identifier));\r\n\t}\r\n\r\n\treturn (VibratoBDDPool[identifier] || (VibratoBDDPool[identifier] = new VibratoBDD({identifier})));\r\n}\r\n\r\nVibratoBDDFactory.class = VibratoBDD;\r\n\r\nexport default VibratoBDDFactory;"],"sourceRoot":"/source/"}